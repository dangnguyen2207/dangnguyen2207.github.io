!function(e){"function"==typeof define&&define.amd?define("plugins/rsswidget/jquery.vticker",["jquery"],e):e("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(e){var t={speed:700,pause:4e3,showItems:1,mousePause:!0,height:0,animate:!0,margin:0,padding:0,startPaused:!1},n={moveUp:function(e,t){n.animate(e,t,"up")},moveDown:function(e,t){n.animate(e,t,"down")},animate:function(t,n,i){var r=t.itemHeight,a=t.options,o=t.element,s=o.children("ul"),c="up"===i?"li:first":"li:last";o.trigger("vticker.beforeTick");var l=s.children(c).clone(!0);if(a.height>0&&(r=s.children("li:first").height()),r+=a.margin+2*a.padding,"down"===i&&s.css("top","-"+r+"px").prepend(l),n&&n.animate){if(t.animating)return;t.animating=!0;var u="up"===i?{top:"-="+r+"px"}:{top:0};s.animate(u,a.speed,function(){e(s).children(c).remove(),e(s).css("top","0px"),t.animating=!1,o.trigger("vticker.afterTick")})}else s.children(c).remove(),s.css("top","0px"),o.trigger("vticker.afterTick");"up"===i&&l.appendTo(s)},nextUsePause:function(){var t=e(this).data("state");if(!t)return void 0;var r=t.options;if(!(t.isPaused||t.itemCount<2)){i.next.call(this,{animate:r.animate});var a=this;t.intervalId=setTimeout(function(){n.nextUsePause.call(a)},r.pause)}},startInterval:function(){var t=e(this).data("state"),i=t.options,r=this;t.intervalId=setTimeout(function(){n.nextUsePause.call(r)},i.pause)},stopInterval:function(){var t=e(this).data("state");t&&(t.intervalId&&clearTimeout(t.intervalId),t.intervalId=void 0)},restartInterval:function(){n.stopInterval.call(this),n.startInterval.call(this)}},i={init:function(r){i.stop.call(this);var a=e.extend({},t),r=e.extend(a,r),o=e(this),s={itemCount:o.children("ul").children("li").length,itemHeight:0,itemMargin:0,element:o,animating:!1,options:r,isPaused:r.startPaused?!0:!1,pausedByCode:!1};if(e(this).data("state",s),o.css({overflow:"hidden",position:"relative"}).children("ul").css({position:"absolute",margin:0,padding:0}).children("li").css({margin:r.margin,padding:r.padding}),isNaN(r.height)||0===r.height){o.children("ul").children("li").each(function(){var t=e(this);t.height()>s.itemHeight&&(s.itemHeight=t.height())}),o.children("ul").children("li").each(function(){var t=e(this);t.height(s.itemHeight)});var c=r.margin+2*r.padding;o.height((s.itemHeight+c)*r.showItems+r.margin)}else o.height(r.height);var l=this;r.startPaused||n.startInterval.call(l),r.mousePause&&o.bind("mouseenter",function(){s.isPaused!==!0&&(s.pausedByCode=!0,n.stopInterval.call(l),i.pause.call(l,!0))}).bind("mouseleave",function(){(s.isPaused!==!0||s.pausedByCode)&&(s.pausedByCode=!1,i.pause.call(l,!1),n.startInterval.call(l))})},pause:function(t){var n=e(this).data("state");if(!n)return void 0;if(n.itemCount<2)return!1;n.isPaused=t;var i=n.element;t?(e(this).addClass("paused"),i.trigger("vticker.pause")):(e(this).removeClass("paused"),i.trigger("vticker.resume"))},next:function(t){var i=e(this).data("state");return i?i.animating||i.itemCount<2?!1:(n.restartInterval.call(this),void n.moveUp(i,t)):void 0},prev:function(t){var i=e(this).data("state");return i?i.animating||i.itemCount<2?!1:(n.restartInterval.call(this),void n.moveDown(i,t)):void 0},stop:function(){var t=e(this).data("state");return t?void n.stopInterval.call(this):void 0},remove:function(){var t=e(this).data("state");if(!t)return void 0;n.stopInterval.call(this);var i=t.element;i.unbind(),i.remove()}};e.fn.vTicker=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.vTicker"):i.init.apply(this,arguments)}}),function(e){"function"==typeof define&&define.amd?define("plugins/rsswidget/jquery.zrssfeed",["jquery"],e):e("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(e){function t(e,t){return Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function n(e){this.parse(e)}function i(e,t){this.feed=e,this.parse(t)}function r(e,t){i.call(this,e,t)}function a(e,t){i.call(this,e,t)}function o(e){this.element=e}function s(e){o.call(this,e)}function c(e){o.call(this,e)}function l(e){this.type="atom",n.call(this,e)}function u(e){this.type="rss",n.call(this,e)}e.fn.rssfeed=function(t,n,i){var r={limit:10,header:!0,titletag:"h4",date:!0,dateformat:"datetime",content:!0,snippet:!0,media:!0,showerror:!0,errormsg:"",linktarget:"_self",linkredirect:"",linkcontent:!1,sort:"",sortasc:!0};return n=e.extend(r,n),this.each(function(r,a){var o=e(a);return o.hasClass("rssFeed")||o.addClass("rssFeed"),t?void e.ajax(t,{error:function(){if(n.showerror){var t;t=""!==n.errormsg?n.errormsg:"Could not load feed.",e(a).html('<div class="rssError"><p>'+t+"</p></div>")}},success:function(t){h(a,t,n),e.isFunction(i)&&i(o)}}):!1})},n.prototype={element:null,type:"",version:"",title:"",link:"",description:"",author:"",language:"",updated:"",entries:[],parse:function(e){this.element=e,this.entries=[]}},n.factory=function(t){return e("channel",t).length?new u(t):e("feed",t).length?new l(t):null},i.prototype={element:null,feed:null,title:"",link:"",content:"",get description(){return this.content},get contentSnippet(){return d(this.content)},publishedDate:"",get updated(){return this.publishedDate},id:"",media:[],parse:function(e){this.element=e,this.media=[]}},r.prototype={get title(){return e("title",this.element).eq(0).text()},get link(){return e("link",this.element).eq(0).attr("href")},get content(){return e("summary",this.element).eq(0).text()||e("content",this.element).eq(0).text()},get publishedDate(){return e("published",this.element).eq(0).text()},get updated(){return e("updated",this.element).eq(0).text()||this.published},get id(){return e("id",this.element).eq(0).text()},parse:function(t){var n=this;i.prototype.parse.call(this,t),e("link[rel=enclosure]",t).each(function(){n.media.push(new s(this))})}},r.prototype=t(Object.create(i.prototype),r.prototype),a.prototype={get title(){return e("title",this.element).eq(0).text()},get link(){return e("link",this.element).eq(0).text()},get content(){return e("description",this.element).eq(0).text()},get publishedDate(){return e("pubDate",this.element).eq(0).text()},get id(){return e("guid",this.element).eq(0).text()},parse:function(t){var n=this;i.prototype.parse.call(this,t),e("enclosure",t).each(function(){n.media.push(new c(this))})}},a.prototype=t(Object.create(i.prototype),a.prototype),o.prototype={element:null,get href(){return e(this.element).attr("url")},get type(){return e(this.element).attr("type")},get length(){return e(this.element).attr("length")}},s.prototype={get href(){return e(this.element).attr("href")}},s.prototype=t(Object.create(o.prototype),s.prototype),c.prototype={},c.prototype=t(Object.create(o.prototype),c.prototype),l.prototype={get channel(){return e("feed",this.element).eq(0)},get title(){return e("title",this.channel).eq(0).text()},get link(){return e("link",this.channel).eq(0).attr("href")},get description(){return e("subtitle",this.channel).eq(0).text()},get language(){return this.channel.attr("xml:lang")},get updated(){return e("updated",this.channel).eq(0).text()},get author(){return e("name",this.channel).eq(0).text()},parse:function(t){var i=this;n.prototype.parse.call(this,t),this.version="1.0",e("entry",t).each(function(){i.entries.push(new r(i,this))})}},l.prototype=t(Object.create(n.prototype),l.prototype),u.prototype={get channel(){return e("channel",this.element).eq(0)},get version(){var t=e("rss",this.element);return t.length?t.eq(0).attr("version"):"1.0"},get title(){return e("title",this.channel).eq(0).text()},get link(){return e("link",this.channel).eq(0).text()},get description(){return e("description",this.channel).eq(0).text()},get language(){return e("language",this.channel).eq(0).text()},get updated(){return e("lastBuildDate",this.channel).eq(0).text()},parse:function(t){var i=this;n.prototype.parse.call(this,t),e("item",t).each(function(){i.entries.push(new a(i,this))})}},u.prototype=t(Object.create(n.prototype),u.prototype);var d=function(t){var n,i=e("<div>").html(t),r=i[0].textContent;return r.length>120&&(n=r.indexOf(" ",120),-1!==n&&(r=r.substring(0,n)+" ...")),r},h=function(t,i,r){var a=n.factory(i);if(!a.type)return!1;var o,s,c,l=[],u=0,d="",h="odd";for(r.header&&(d+='<div class="rssHeader"><a href="'+a.link+'" title="'+a.description+'">'+a.title+"</a></div>"),d+='<div class="rssBody"><ul>',o=0,s=a.entries.length;o<r.limit&&s>o;o++){u=o,l[u]=[];var m,g=a.entries[o],b="",j=g.link;switch(r.sort){case"title":b=g.title;break;case"date":b=g.publishedDate}if(l[u].sort=b,g.publishedDate){var y=new Date(g.publishedDate);switch(m=y.toLocaleDateString()+" "+y.toLocaleTimeString(),r.dateformat){case"datetime":break;case"date":m=y.toLocaleDateString();break;case"time":m=y.toLocaleTimeString();break;case"timeline":m=v(y);break;default:m=f(y,r.dateformat)}}if(r.linkredirect&&(j=encodeURIComponent(j)),l[u].html="<"+r.titletag+'><a href="'+r.linkredirect+j+'" title="View this feed at '+a.title+'">'+g.title+"</a></"+r.titletag+">",r.date&&m&&(l[u].html+="<div>"+m+"</div>"),r.content&&(c=r.snippet&&g.contentSnippet?g.contentSnippet:g.content,r.linkcontent&&(c='<a href="'+r.linkredirect+j+'" title="View this feed at '+a.title+'">'+c+"</a>"),l[u].html+="<p>"+c+"</p>"),r.media&&g.media.length){l[u].html+='<div class="rssMedia"><div>Media files</div><ul>';for(var w=0,x=g.media.length;x>w;w++){var O=g.media[w].href,k=g.media[w].type,q=g.media[w].length;l[u].html+='<li><a href="'+O+'" title="Download this media">'+O.split("/").pop()+"</a> ("+k+", "+p(q)+")</li>"}l[u].html+="</ul></div>"}}r.sort&&l.sort(function(e,t){var n,i;return r.sortasc?(n=e.sort,i=t.sort):(n=t.sort,i=e.sort),"date"==r.sort?new Date(n)-new Date(i):(n=n.toLowerCase(),i=i.toLowerCase(),i>n?-1:n>i?1:0)}),e.each(l,function(e){d+='<li class="rssRow '+h+'">'+l[e].html+"</li>",h="odd"==h?"even":"odd"}),d+="</ul></div>",e(t).html(d),e("a",t).attr("target",r.linktarget)},p=function(e){if(e=parseFloat(e),!e)return"";var t=["bytes","kb","MB","GB","TB","PB"],n=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(n))).toFixed(2)+" "+t[n]},f=function(e,t){var n=new Date(e);return e=t,e=e.replace("dd",m(n.getDate())),e=e.replace("MMMM",g(n.getMonth())),e=e.replace("MM",m(n.getMonth()+1)),e=e.replace("yyyy",n.getFullYear()),e=e.replace("hh",m(n.getHours())),e=e.replace("mm",m(n.getMinutes())),e=e.replace("ss",m(n.getSeconds()))},m=function(e){return e+="",e.length<2&&(e="0"+e),e},g=function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t[e]},v=function(e){var t,n,i=new Date,r=new Date(e),a=Math.round((i.getTime()-r.getTime())/1e3);return 60>a?"< 1 min":(3600>a?(t=Math.round(a/60)-1,n="min"):86400>a?(t=Math.round(a/3600)-1,n="hour"):604800>a?(t=Math.round(a/86400)-1,n="day"):(t=Math.round(a/604800)-1,n="week"),t>1&&(n+="s"),t+" "+n)}}),define("require-css/css!js-css/rsswidget",[],function(){}),define("rss_widget",["jquery","plugins/rsswidget/jquery.vticker","plugins/rsswidget/jquery.zrssfeed","css!js-css/rsswidget"],function(e){var t={defaultConfig:{url:"http://newsroom.unl.edu/inthenews/?format=xml",elementId:"wdn_rss_widget",pause:5e3,width:"auto",height:"auto",limit:10,num_show:3},initialize:function(n){var i,r=[];if(n&&arguments.length){var a;for(i=0;i<arguments.length;i++)n=arguments[i],"string"==typeof n?(a=e.extend({},t.defaultConfig),a.url=n,r.push(a)):(a=e.extend({},t.defaultConfig,n),r.push(a))}else r.push(t.defaultConfig);e(function(){t.setup(r)})},setup:function(t){e.each(t,function(t,n){var i=e("#"+n.elementId);i.length&&i.rssfeed(n.url,{titletag:"div",limit:n.limit},function(t){e(t).find("div.rssBody").vTicker({showItems:n.num_show,pause:n.pause})})})}};return t}),function(e){var t=document,n="appendChild",i="styleSheet",r=t.createElement("style");r.type="text/css",t.getElementsByTagName("head")[0][n](r),r[i]?r[i].cssText=e:r[n](t.createTextNode(e))}(".wdn-rss-widget .rssContainer{padding:.1em}.wdn-rss-widget .rssBody{margin:0;padding:0}.wdn-rss-widget .rssRow.odd{background-color:#fefdfa;margin:1em;padding:2em;list-style:none}.wdn-rss-widget .rssRow.even{background-color:#f6eccf;margin:1em;padding:2em;list-style:none}.wdn-rss-widget .rssLink{margin:0 1em 0 .5em;padding-left:.5em;padding-top:1em}.wdn-rss-widget .rssContent{margin:0 1em 0 .5em;padding-left:.5em;padding-bottom:1em}.wdn-rss-widget .rssDate{margin:0 1em;padding-left:.5em;font-size:7pt}");
//# sourceMappingURL=rss_widget.js.map