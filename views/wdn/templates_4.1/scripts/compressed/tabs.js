define(["jquery","wdn","require"],function(n,i,t){var e,s=!0,a="plugins/hashchange/jquery.hashchange",r="ul.wdn_tabs",h=".wdn_tabs_content",l="selected",o=/^[a-z][\w:\-\.]*$/i,c=function(n){return"#"+n.replace(/(:|\.)/g,"\\$1")},u=function(n){var i=n.href.split("#");if(!i[1])return!1;var t=window.location.href.split("#")[0],e=document.getElementsByTagName("base")[0];return t!==i[0]&&e&&e.href!==i[0]?!1:i[1]},f=function(){return window.location.hash.replace("#","")},d=function(i){var t,e=i.closest(r),s=i.closest("li").siblings("."+l),a=i.siblings(),h=i.parents("li");n("li."+l,e).removeClass(l),n("ul",e).hide(),h.addClass(l),(a.length||h.length>1)&&(a.length||(a=i.closest("ul")),a.show()),t=i.closest("li").siblings("."+l),i.trigger("tabchanged",[s,t,e])},g={initialize:function(){n(function(){i.getPluginParam("tabs","useHashChange")===!1&&(s=!1);var l=!1,w=n(r).not(".disableSwitching");if(w.on("click","a",function(){var i=n(this),t=u(this);return t?(d(i),s?(l=!0,f()!=t&&(window.location.hash=t)):g.displayFromHash(t),!1):!0}),w.length){var v=function(n){return o.test(n)},p=function(i){return v(i)&&n(h+" "+c(i)).length},b=function(i){var t=n();i&&(t=n(c(i)).closest(h).prev(r));var s=w.not(t);e||(e=[],s.each(function(){var i="li.selected";n(i,this).length||(i="> li"),e.push(n(i+":first a:first",this)[0])}),e=n(e)),e.each(function(){var i=n(this),t=u(this);t&&v(t)&&(d(i),g.displayFromHash(t))})};if(s){var m=function(){var i=!0;n(window).off(".wdn_tabs").on("hashchange.wdn_tabs",function(){var n=f();return n&&!v(n)?!0:p(n)?(g.displayFromHash(n,i||!l),i&&(b(n),i=!1),l&&(l=!1),!1):i||""===n?(b(),i=!1,!0):void 0}),n(window).hashchange()};n.fn.hashchange?m():t([a],m)}else{var y=f();p(y)?g.displayFromHash(y,!0):y="",b(y)}}})},displayFromHash:function(i,t){var e=n(c(i)),s=e.closest(h);if(s.children().hide(),e.show().parentsUntil(h).show(),e.find("ul.slides").css({height:"auto"}),t){var a=n(r+" li a[href$="+c(i)+"]");a.length&&(d(a.first()),a.get(0).scrollIntoView())}}};return g});
//# sourceMappingURL=tabs.js.map